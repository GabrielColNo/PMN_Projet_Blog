{% extends "base.html" %}

{% block title %}Presspedia - Accueil{% endblock %}

{% block content %}
  <section class="hero-home">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">Bienvenue sur Presspedia</h1>
        <p class="hero-subtitle">La premiÃ¨re bibliothÃ¨que journalistique franÃ§aise participative, oÃ¹ les jeunes journalistes indÃ©pendants prennent la parole.</p>
        <a href="#blog" class="btn-explore">Explorer le blog</a>
      </div>
      <div class="hero-image">
        <img src="{{ url_for('static', filename='megaphone.png') }}" alt="Megaphone" />
        <div class="floating-icon icon-1">
          <img src="{{ url_for('static', filename='lovee.png') }}" alt="Like" />
        </div>
        <div class="floating-icon icon-2">
          <img src="{{ url_for('static', filename='dislikee.png') }}" alt="Dislike" />
        </div>
        <div class="floating-icon icon-3">ðŸ’¬</div>
        <div class="floating-icon icon-4">ðŸ’­</div>
      </div>
    </div>
  </section>

  <section id="blog" class="article-list">
    <div class="container">
      <h2 class="section-title">Articles rÃ©cents</h2>

      {% if articles %}
        <ul class="article-cards">
          {% for article in articles %}
            <li class="article-card">
              {% if article.image_filename %}
                <div class="article-card-image">
                  <img src="{{ url_for('static', filename='uploads/' + article.image_filename) }}" alt="{{ article.title }}" />
                </div>
              {% endif %}
              <h3>
                <a href="{{ url_for('main.article_detail', slug=article.slug) }}">
                  {{ article.title }}
                </a>
              </h3>
              <p class="article-meta">
                <a href="{{ url_for('main.blog', author=article.author) }}" class="author-link">{{ article.author or 'Anonyme' }}</a>
                â€¢ PubliÃ© le {{ article.created_at.strftime('%d/%m/%Y') if article.created_at else 'N/A' }}
                {% if article.category %}
                  â€¢ <span class="category-badge">{{ article.category }}</span>
                {% endif %}
              </p>
              {% if article.tags %}
                <div class="tags">
                  {% for tag in article.tags.split(',') %}
                    <span class="tag">#{{ tag.strip() }}</span>
                  {% endfor %}
                </div>
              {% endif %}
              <p class="article-excerpt">
                {{ article.content[:200] }}{% if article.content|length > 200 %}...{% endif %}
              </p>
              <div class="article-stats">
                <span class="stat-item">
                  <img src="{{ url_for('static', filename='lovee.png') }}" alt="J'aime" class="stat-icon" />
                  {{ article.likes or 0 }}
                </span>
                <span class="stat-item">
                  <img src="{{ url_for('static', filename='dislikee.png') }}" alt="Je n'aime pas" class="stat-icon" />
                  {{ article.dislikes or 0 }}
                </span>
                <span class="stat-item">
                  ðŸ’¬ {{ article.comments|length if article.comments else 0 }}
                </span>
              </div>
            </li>
          {% endfor %}
        </ul>
        <div class="view-all-container">
          <a href="{{ url_for('main.blog') }}" class="btn-view-all">Voir tous les articles â†’</a>
        </div>
      {% else %}
        <p class="no-articles">Aucun article pour le moment. <a href="{{ url_for('main.write_article') }}">Soyez le premier Ã  Ã©crire !</a></p>
      {% endif %}
    </div>
  </section>
{% endblock %}
