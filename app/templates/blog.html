{% extends "base.html" %}

{% block title %}Blog - Presspedia{% endblock %}

{% block content %}
  <section class="page-hero">
    <div class="container">
      <h1 class="page-title">Blog</h1>
      <p class="page-subtitle">D√©couvrez tous les articles ou partagez le v√¥tre</p>
      <a href="{{ url_for('main.write_article') }}" class="btn-write">‚úçÔ∏è √âcrire un article</a>
    </div>
  </section>

  <section class="blog-content">
    <div class="container">
      {% if articles %}
        <div class="article-grid">
          {% for article in articles %}
            <div class="article-card">
              {% if article.image_filename %}
                <div class="article-card-image">
                  <img src="{{ url_for('static', filename='uploads/' + article.image_filename) }}" alt="{{ article.title }}" />
                </div>
              {% endif %}
              <h3>
                <a href="{{ url_for('main.article_detail', slug=article.slug) }}">
                  {{ article.title }}
                </a>
              </h3>
              <p class="article-meta">
                Par {{ article.author or 'Anonyme' }} ‚Ä¢ {{ article.created_at.strftime('%d/%m/%Y') if article.created_at else 'N/A' }}
              </p>
              <p class="article-excerpt">
                {{ article.content[:150] }}{% if article.content|length > 150 %}...{% endif %}
              </p>
              <div class="article-stats">
                <span class="stat-item">
                  <img src="{{ url_for('static', filename='lovee.png') }}" alt="Likes" class="stat-icon" />
                  {{ article.likes or 0 }}
                </span>
                <span class="stat-item">
                  <img src="{{ url_for('static', filename='dislikee.png') }}" alt="Dislikes" class="stat-icon" />
                  {{ article.dislikes or 0 }}
                </span>
                <span class="stat-item">
                  üí¨ {{ article.comments|length if article.comments else 0 }}
                </span>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p class="no-articles">Aucun article pour le moment. Soyez le premier √† √©crire !</p>
      {% endif %}
    </div>
  </section>
{% endblock %}
